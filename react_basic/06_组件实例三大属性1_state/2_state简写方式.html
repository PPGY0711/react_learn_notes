<!DOCTYPE html>
<html lang='en'>
    <head>
        <meta charset="utf-8">
        <meta name='viewport' content="width=device-width, initial-scale=1.0">
        <title>state理解</title>
    </head>
    <body>
        <!-- 准备好容器,React库引用是有顺序的 -->
        <div id='test'></div>

        <!-- 引入React核心库 -->
        <script type="text/javascript" src="../js/react.development.js"></script>
        <!-- 引入React-dom，用于支持react操作dom -->
        <script type="text/javascript" src="../js/react-dom.development.js"></script>
        <!-- 引入babel，用于将jsx转为js -->
        <script type="text/javascript" src="../js/babel.min.js"></script>

        <script type="text/babel"> /* 此处一定要写babel，而不是javascript或者jsx */
            // 1.创建组件
            class Weather extends React.Component{
                
                
                // constructor(props){
                //     super(props);
                    
                //     // this.changeWeather = this.changeWeather.bind(this)
                // };
                
                // 初始化状态
                state = {isHot: false, temp:'20℃'}; 

                render(){
                    const {isHot,temp} = this.state
                    return <h1 onClick={this.changeWeather}>今天天气很{isHot == true? '炎热':'凉爽'},{temp}</h1>
                 }
                // 这么写是把changeWeather写成了类的方法
                // changeWeather(){
                //     const isHot = this.state.isHot
                //     this.setState({isHot:!isHot})
                // }
                // 这么写是把changeWeather写成了给每个实例对象添加的属性，但是这个属性是函数
                // 这样写也不行，同样会报this是undefined的错误
                // changeWeather = function(){
                //     const isHot = this.state.isHot
                //     this.setState({isHot:!isHot})
                //     // console.log(this)
                // }

                // 写成箭头函数，箭头函数没有自己的this，会在执行的时候往外找上层函数的调用对象，会找到Weather的实例对象
                // 自定义方法，写成赋值语句形式+箭头函数
                changeWeather = ()=>{
                    console.log(this)
                    const isHot = this.state.isHot
                    // state传的时候必须是一个对象
                    this.setState({isHot:!isHot})
                }

            }
            // 2.渲染组件到页面
            ReactDOM.render(<Weather/>, document.getElementById('test'))
            
        </script>
    </body>
</html>