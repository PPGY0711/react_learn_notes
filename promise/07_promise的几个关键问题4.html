<!DOCTYPE html>
<html lang='en'>
    <head>
        <meta charset="utf-8">
        <title>07_promise的几个关键问题4</title>
    </head>
    <body>
        <script type="text/javascript">

        // 常规：先指定回调函数，后改变状态
            new Promise((resolve, reject)=>{
                setTimeout(() => {
                    console.log("执行任务1(异步）")
                    resolve(1)
                }, 1000);
            })
            .then(
            value =>{
                console.log("任务1的结果：",value)
                console.log("执行任务2（同步）")
                // resolve(2)
                return 2
            },
            reason=>{
                console.log('onRejected()1',reason)
            })
            .then(
            value =>{
                console.log('任务2的结果：',value)
                
                return new Promise((resolve, reject)=>{
                    // 启动任务3（异步）
                    setTimeout(() => {
                    console.log("执行任务3（异步）")
                    resolve(3)
                }, 1000);
                })
            },
            reason=>{
                console.log('onRejected()2',reason)
            })
            .then(
                value =>{
                    console.log("任务3的结果：",value)
                }
            )

            
            
            
        </script>
    </body>
</html>